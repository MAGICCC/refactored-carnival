
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
      
      
        <link rel="canonical" href="https://docs.mailcow.email/third_party/roundcube/third_party-roundcube.de/">
      
      
      
      
        
          <link rel="alternate" href="/" hreflang="en">
        
          <link rel="alternate" href="/de/" hreflang="de">
        
      
      
      <link rel="icon" href="../../../assets/images/favicon.png">
      <meta name="generator" content="zensical-0.0.10">
    
    
      
        <title>Third party roundcube.de - mailcow: dockerized documentation</title>
      
    
    
      
        
      
      <link rel="stylesheet" href="../../../assets/stylesheets/classic/main.346a6e83.min.css">
      
        
          
        
        <link rel="stylesheet" href="../../../assets/stylesheets/classic/palette.7dc9a0ad.min.css">
      
      
  
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
    
  
  
  <style>:root{}</style>



    
    
      
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,500,500i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../assets/stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../..",location),__md_hash=e=>[...e].reduce(((e,t)=>(e<<5)-e+t.charCodeAt(0)),0),__md_get=(e,t=localStorage,a=__md_scope)=>JSON.parse(t.getItem(a.pathname+"."+e)),__md_set=(e,t,a=localStorage,_=__md_scope)=>{try{a.setItem(_.pathname+"."+e,JSON.stringify(t))}catch(e){}},document.documentElement.setAttribute("data-platform",navigator.platform)</script>
    
      

    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#installation-von-roundcube" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../.." title="mailcow: dockerized documentation" class="md-header__button md-logo" aria-label="mailcow: dockerized documentation" data-md-component="logo">
      
  <img src="../../../assets/images/logo.svg" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3zm0 5h18v2H3zm0 5h18v2H3z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            mailcow: dockerized documentation
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              Third party roundcube.de
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_0">
    
      <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m14.3 16-.7-2h-3.2l-.7 2H7.8L11 7h2l3.2 9zM20 8.69V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12zm-9.15 3.96h2.3L12 9z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="default" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
    
      <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
    
    
    
    <input class="md-option" data-md-color-media="(prefers-color-scheme: dark)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to system preference"  type="radio" name="__palette" id="__palette_2">
    
      <label class="md-header__button md-icon" title="Switch to system preference" for="__palette_0" hidden>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12s-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12z"/></svg>
      </label>
    
  
</form>
      
    
    
      <script>var palette=__md_get("__palette");if(palette&&palette.color){if("(prefers-color-scheme)"===palette.color.media){var media=matchMedia("(prefers-color-scheme: light)"),input=document.querySelector(media.matches?"[data-md-color-media='(prefers-color-scheme: light)']":"[data-md-color-media='(prefers-color-scheme: dark)']");palette.color.media=input.getAttribute("data-md-color-media"),palette.color.scheme=input.getAttribute("data-md-color-scheme"),palette.color.primary=input.getAttribute("data-md-color-primary"),palette.color.accent=input.getAttribute("data-md-color-accent")}for(var[key,value]of Object.entries(palette.color))document.body.setAttribute("data-md-color-"+key,value)}</script>
    
    
      <div class="md-header__option">
  <div class="md-select">
    
    <button class="md-header__button md-icon" aria-label="Select language">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="m12.87 15.07-2.54-2.51.03-.03A17.5 17.5 0 0 0 14.07 6H17V4h-7V2H8v2H1v2h11.17C11.5 7.92 10.44 9.75 9 11.35 8.07 10.32 7.3 9.19 6.69 8h-2c.73 1.63 1.73 3.17 2.98 4.56l-5.09 5.02L4 19l5-5 3.11 3.11zM18.5 10h-2L12 22h2l1.12-3h4.75L21 22h2zm-2.62 7 1.62-4.33L19.12 17z"/></svg>
    </button>
    <div class="md-select__inner">
      <ul class="md-select__list">
        
          <li class="md-select__item">
            <a href="/" hreflang="en" class="md-select__link">
              English
            </a>
          </li>
        
          <li class="md-select__item">
            <a href="/de/" hreflang="de" class="md-select__link">
              Deutsch
            </a>
          </li>
        
      </ul>
    </div>
  </div>
</div>
    
    
      
      
        <label class="md-header__button md-icon" for="__search">
          
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.52 6.52 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5"/></svg>
        </label>
        <div class="md-search" data-md-component="search" role="dialog" aria-label="Search">
  <button type="button" class="md-search__button">
    Search
  </button>
</div>
      
    
    <div class="md-header__source">
      
        <a href="https://github.com/mailcow/mailcow-dockerized" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mailcow/mailcow-dockerized
  </div>
</a>
      
    </div>
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    



<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../.." title="mailcow: dockerized documentation" class="md-nav__button md-logo" aria-label="mailcow: dockerized documentation" data-md-component="logo">
      
  <img src="../../../assets/images/logo.svg" alt="logo">

    </a>
    mailcow: dockerized documentation
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/mailcow/mailcow-dockerized" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M439.6 236.1 244 40.5c-5.4-5.5-12.8-8.5-20.4-8.5s-15 3-20.4 8.4L162.5 81l51.5 51.5c27.1-9.1 52.7 16.8 43.4 43.7l49.7 49.7c34.2-11.8 61.2 31 35.5 56.7-26.5 26.5-70.2-2.9-56-37.3L240.3 199v121.9c25.3 12.5 22.3 41.8 9.1 55-6.4 6.4-15.2 10.1-24.3 10.1s-17.8-3.6-24.3-10.1c-17.6-17.6-11.1-46.9 11.2-56v-123c-20.8-8.5-24.6-30.7-18.6-45L142.6 101 8.5 235.1C3 240.6 0 247.9 0 255.5s3 15 8.5 20.4l195.6 195.7c5.4 5.4 12.7 8.4 20.4 8.4s15-3 20.4-8.4l194.7-194.7c5.4-5.4 8.4-12.8 8.4-20.4s-3-15-8.4-20.4"/></svg>
  </div>
  <div class="md-source__repository">
    mailcow/mailcow-dockerized
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
  
  
  
  
    <li class="md-nav__item">
      <a href="../../.." class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Information & Support
  

    
  </span>
  
  

      </a>
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
        
          
          <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Get started
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Get started
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getstarted/prerequisite-system.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Prepare your system
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getstarted/prerequisite-dns.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DNS setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../getstarted/install.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Install mailcow
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
        
          
          <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Maintaining mailcow
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Maintaining mailcow
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../maintenance/update.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Update
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../maintenance/migration.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Migration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../maintenance/deinstall.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Deinstallation
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" >
        
          
          <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Backup & Restore
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Backup & Restore
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" >
        
          
          <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Component backup & restore
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    Component backup & restore
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../backup_restore/b_n_r-backup.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Backup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../backup_restore/b_n_r-restore.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Restore
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_2" >
        
          
          <label class="md-nav__link" for="__nav_4_2" id="__nav_4_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Cold-standby (rolling backup)
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Cold-standby (rolling backup)
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../backup_restore/b_n_r-coldstandby.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    none
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_3" >
        
          
          <label class="md-nav__link" for="__nav_4_3" id="__nav_4_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Manual backups
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Manual backups
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../backup_restore/b_n_r-backup_restore-maildir.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Maildir
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../backup_restore/b_n_r-backup_restore-mysql.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    MySQL (mysqldump)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_4" >
        
          
          <label class="md-nav__link" for="__nav_4_4" id="__nav_4_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    mailcow-internal backups
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    mailcow-internal backups
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../backup_restore/b_n_r-accidental_deletion.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recover accidentally deleted data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_5" >
        
          
          <label class="md-nav__link" for="__nav_4_5" id="__nav_4_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Post Installation Tasks
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Post Installation Tasks
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-ssl.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced SSL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-authorize_watchdog_and_bounces.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Authorize Watchdog and Bounce Mails
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-disable_ipv6.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disable IPv6
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-dmarc_reporting.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    DMARC Reporting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-ip_bindings.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IP bindings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-local_mta.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Local MTA on Docker host
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-logging.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logging
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_6" >
        
          
          <label class="md-nav__link" for="__nav_4_6" id="__nav_4_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Reverse Proxy
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_4_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Reverse Proxy
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/reverse-proxy/r_p.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/reverse-proxy/r_p-apache24.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Apache 2.4
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/reverse-proxy/r_p-nginx.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nginx
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/reverse-proxy/r_p-haproxy.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    HAProxy (community supported)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/reverse-proxy/r_p-traefik2.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Traefik v2 (community supported)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/reverse-proxy/r_p-caddy2.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Caddy v2 (community supported)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-snat.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SNAT
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../post_installation/firststeps-sync_jobs_migration.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sync job migration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_5" >
        
          
          <label class="md-nav__link" for="__nav_5" id="__nav_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Models
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Models
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/model-acl.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    ACL
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/model-passwd.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Password hashing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../models/model-sender_rcv.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sender and receiver model
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
        
          
          <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    General Troubleshooting
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    General Troubleshooting
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Introduction
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-admin_login_sogo/" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Admin login to SOGo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-rspamd_memory_leaks.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Advanced = Find memory leaks in Rspamd
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-attach_service.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Attach to a Container
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-common_problems.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Common Problems
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-logs.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Logs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-mysql_upgrade.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual MySQL upgrade
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-mysql_aria.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Recover crashed Aria storage engine
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-rm_volumes.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Remove Persistent Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-resend-quarantine-notifications.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Resend Quarantine Notifications
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-reset_pw.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reset Passwords (incl. SQL)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../troubleshooting/debug-reset_tls.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Reset TLS certificates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7" >
        
          
          <label class="md-nav__link" for="__nav_7" id="__nav_7_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Manual/Guides/Examples
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_7_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7">
            <span class="md-nav__icon md-icon"></span>
            
  
    Manual/Guides/Examples
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_1" >
        
          
          <label class="md-nav__link" for="__nav_7_1" id="__nav_7_1_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    mailcow UI
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_1_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_1">
            <span class="md-nav__icon md-icon"></span>
            
  
    mailcow UI
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-bl_wl.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Blacklist / Whitelist
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-config.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-css.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CSS overrides
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-forgot_password.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Forgot Password Feature
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-netfilter.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Netfilter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-notification-templates.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Notification templates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-pushover.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Pushover
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-spamfilter.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Spamfilter
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-sub_addressing.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Sub-addressing
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-tags.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tags (for Domains and Mailboxes)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-spamalias.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Temporary email aliases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-tfa.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Two-Factor Authentication
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/mailcow-UI/u_e-mailcow_ui-fido.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    WebAuthn / FIDO2
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_2" >
        
          
          <label class="md-nav__link" for="__nav_7_2" id="__nav_7_2_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Postfix
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_2_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_2">
            <span class="md-nav__icon md-icon"></span>
            
  
    Postfix
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-unauthenticated-relaying.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Unauthenticated Relaying
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-custom_transport.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom transport maps
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-extra_cf.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Customize/Expand main.cf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-disable_sender_verification.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disable Sender Addresses Verification
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-harden_ciphers.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hardening Ciphers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-attachment_size.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Max. message size (attachment size)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-relayhost.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Relayhosts
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-pflogsumm.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Statistics with pflogsumm
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Postfix/u_e-postfix-postscreen_whitelist.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Whitelist IP in Postscreen
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_3" >
        
          
          <label class="md-nav__link" for="__nav_7_3" id="__nav_7_3_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Unbound
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_3_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_3">
            <span class="md-nav__icon md-icon"></span>
            
  
    Unbound
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Unbound/u_e-unbound-fwd.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Using an external DNS service
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_4" >
        
          
          <label class="md-nav__link" for="__nav_7_4" id="__nav_7_4_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Dovecot
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_4_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_4">
            <span class="md-nav__icon md-icon"></span>
            
  
    Dovecot
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-extra_conf.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Customize/Expand dovecot.conf
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-any_acl.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Enable any ACL settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-expunge.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Expunge a Users mails
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-fts.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Full-Text Search
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-harden_ciphers.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Hardening Ciphers
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-idle_interval.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    IMAP IDLE interval
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-lazy_expunge.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Lazy Expunge (Dovecot Plugin)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-mail-crypt.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mail crypt
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-more.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    More Examples with DOVEADM
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-vmail-volume.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Move Maildir (vmail)
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-performance.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Performance Optimizations
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-public_folder.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Public folders
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-static_master.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Static master user
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Dovecot/u_e-dovecot-catchall_vacation.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Vacation replies for catchall addresses
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_5" >
        
          
          <label class="md-nav__link" for="__nav_7_5" id="__nav_7_5_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Nginx
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_5_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_5">
            <span class="md-nav__icon md-icon"></span>
            
  
    Nginx
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Nginx/u_e-nginx_webmail-site.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Create subdomain webmail.example.org
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Nginx/u_e-nginx_custom.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Custom sites
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_6" >
        
          
          <label class="md-nav__link" for="__nav_7_6" id="__nav_7_6_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Watchdog
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_6_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_6">
            <span class="md-nav__icon md-icon"></span>
            
  
    Watchdog
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Watchdog/u_e-watchdog-thresholds.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Thresholds
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Redis/u_e-redis.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redis
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_8" >
        
          
          <label class="md-nav__link" for="__nav_7_8" id="__nav_7_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Rspamd
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Rspamd
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Rspamd/u_e-rspamd-general.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    General Settings
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Rspamd/u-e-rspamd-tweaks.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Tweaks
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Rspamd/u-e-rspamd-work-with-spamdata.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Work with Spam Data
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Rspamd/u_e-rspamd-disable-greylisting.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Disable Greylisting
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Rspamd/u-e-rspamd-add-additional-modules.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Add Additional Modules
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_9" >
        
          
          <label class="md-nav__link" for="__nav_7_9" id="__nav_7_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    ClamAV
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    ClamAV
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/ClamAV/u_e-clamav-whitelist.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Whitelist
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/ClamAV/u_e-clamav-additional_dbs.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Additional Databases
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/SOGo/u_e-sogo.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    SOGo
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_7_11" >
        
          
          <label class="md-nav__link" for="__nav_7_11" id="__nav_7_11_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Docker
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_7_11_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_7_11">
            <span class="md-nav__icon md-icon"></span>
            
  
    Docker
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/Docker/u_e-docker-cust_dockerfiles.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Customize Dockerfiles
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/u_e-why_unbound.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Why unbound?
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/u_e-autodiscover_config.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Autodiscover / Autoconfig
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/u_e-80_to_443.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Redirect HTTP to HTTPS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/u_e-reeanble-weak-protocols.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Re-enable TLS 1.0 and TLS 1.1
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../manual-guides/u_e-update-hooks.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Run scripts before and after updates
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_8" >
        
          
          <label class="md-nav__link" for="__nav_8" id="__nav_8_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Client Configuration
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_8_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_8">
            <span class="md-nav__icon md-icon"></span>
            
  
    Client Configuration
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Overview
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-android.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Android
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-apple.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Apple macOS / iOS
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-emclient.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    eM Client
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-kontact.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    KDE Kontact
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-outlook.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Microsoft Outlook
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-thunderbird.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mozilla Thunderbird
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-windows.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Windows Mail
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../../client/client-manual.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Manual configuration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
      
      
  
  
  
  
    
    
    
    
    
    <li class="md-nav__item md-nav__item--nested">
      
        
        
        <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_9" >
        
          
          <label class="md-nav__link" for="__nav_9" id="__nav_9_label" tabindex="0">
            
  
  
  <span class="md-ellipsis">
    
  
    Third party apps
  

    
  </span>
  
  

            <span class="md-nav__icon md-icon"></span>
          </label>
        
        <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_9_label" aria-expanded="false">
          <label class="md-nav__title" for="__nav_9">
            <span class="md-nav__icon md-icon"></span>
            
  
    Third party apps
  

          </label>
          <ul class="md-nav__list" data-md-scrollfix>
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../borgmatic/third_party-borgmatic.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Borgmatic Backup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../checkmk/u_e-checkmk.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    CheckMK
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../exchange_onprem/third_party-exchange_onprem.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Exchange Hybrid Setup
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gitea/third_party-gitea.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gitea
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../gogs/third_party-gogs.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Gogs
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mailman3/third_party-mailman3.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mailman 3
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../mailpiler/third_party-mailpiler_integration.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Mailpiler Integration
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../nextcloud/third_party-nextcloud.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Nextcloud
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
              
                
  
  
  
  
    <li class="md-nav__item">
      <a href="../../portainer/third_party-portainer.md" class="md-nav__link">
        
  
  
  <span class="md-ellipsis">
    
  
    Portainer
  

    
  </span>
  
  

      </a>
    </li>
  

              
            
          </ul>
        </nav>
      
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--secondary" aria-label="On this page">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      On this page
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#installation-von-roundcube" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation von Roundcube
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Installation von Roundcube">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#hinweise-zur-verwendung-von-composer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Hinweise zur Verwendung von composer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#vorbereitung" class="md-nav__link">
    <span class="md-ellipsis">
      
        Vorbereitung
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#optional-rechtschreibprufung" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optional: Rechtschreibprfung
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#installation-des-mime-typ-verzeichnisses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Installation des MIME-Typ-Verzeichnisses
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#anlegen-der-roundcube-datenbank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Anlegen der Roundcube-Datenbank
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roundcube-konfigurationsdatei" class="md-nav__link">
    <span class="md-ellipsis">
      
        Roundcube-Konfigurationsdatei
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#initialisierung-der-datenbank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Initialisierung der Datenbank
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#webserver-konfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Webserver-Konfiguration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#deaktivieren-und-entfernen-des-installationsprogramms" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deaktivieren und entfernen des Installationsprogramms
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aktualisierung-der-roundcube-abhangigkeiten" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aktualisierung der Roundcube-Abhngigkeiten
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ermoglichen-der-klartext-authentifizierung-fur-den-php-fpm-container-ohne-die-verwendung-von-tls" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ermglichen der Klartext-Authentifizierung fr den php-fpm-Container ohne die Verwendung von TLS
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#ofelia-job-fur-roundcube-aufraumtatigkeiten" class="md-nav__link">
    <span class="md-ellipsis">
      
        Ofelia-Job fr Roundcube-Aufrumttigkeiten
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#optionale-zusatz-funktionalitaten" class="md-nav__link">
    <span class="md-ellipsis">
      
        Optionale Zusatz-Funktionalitten
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aktivieren-der-funktion-passwort-andern-in-roundcube" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aktivieren der Funktion "Passwort ndern" in Roundcube
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#carddav-adressbucher-in-roundcube-einbinden" class="md-nav__link">
    <span class="md-ellipsis">
      
        CardDAV-Adressbcher in Roundcube einbinden
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="CardDAV-Adressbcher in Roundcube einbinden">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#ubermittlung-der-client-netzwerkadresse-an-dovecot" class="md-nav__link">
    <span class="md-ellipsis">
      
        bermittlung der Client-Netzwerkadresse an Dovecot
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roundcube-zur-mailcow-apps-liste-hinzufugen" class="md-nav__link">
    <span class="md-ellipsis">
      
        Roundcube zur mailcow Apps-Liste hinzufgen
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#administratoren-ohne-passwort-in-roundcube-einloggen-lassen" class="md-nav__link">
    <span class="md-ellipsis">
      
        Administratoren ohne Passwort in Roundcube einloggen lassen
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#abschluss-der-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Abschluss der Installation
      
    </span>
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#aktualisierung-von-roundcube" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aktualisierung von Roundcube
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Aktualisierung von Roundcube">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#aktualisierung-von-composer-plugins" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aktualisierung von composer-Plugins
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aktualisierung-des-mime-typ-verzeichnisses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aktualisierung des MIME-Typ-Verzeichnisses
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#deinstallation-von-roundcube" class="md-nav__link">
    <span class="md-ellipsis">
      
        Deinstallation von Roundcube
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Deinstallation von Roundcube">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#entfernen-des-web-verzeichnisses" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entfernen des Web-Verzeichnisses
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entfernen-der-datenbank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entfernen der Datenbank
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entfernen-der-konfigurationsanpassungen-fur-mailcow" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entfernen der Konfigurationsanpassungen fr mailcow
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#migration-von-einer-alteren-mailcow-roundcube-installation" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migration von einer lteren mailcow-Roundcube-Installation
      
    </span>
  </a>
  
    <nav class="md-nav" aria-label="Migration von einer lteren mailcow-Roundcube-Installation">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#anlegen-eines-neuen-roundcube-datenbankbenutzers-und-der-datenbank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Anlegen eines neuen roundcube-Datenbankbenutzers und der Datenbank
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#migration-der-roundcube-daten-aus-der-mailcow-datenbank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Migration der Roundcube-Daten aus der mailcow-Datenbank
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#aktualisierung-der-roundcube-konfiguration" class="md-nav__link">
    <span class="md-ellipsis">
      
        Aktualisierung der Roundcube-Konfiguration
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#umstellung-des-rcmcarddav-plugins-auf-die-installation-mittels-composer" class="md-nav__link">
    <span class="md-ellipsis">
      
        Umstellung des RCMCardDAV-Plugins auf die Installation mittels composer
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#umschalten-von-roundcube-auf-die-neue-datenbank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Umschalten von Roundcube auf die neue Datenbank
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#roundcube-web-zugriff-reaktivieren" class="md-nav__link">
    <span class="md-ellipsis">
      
        Roundcube Web-Zugriff reaktivieren
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#andere-anpassungen" class="md-nav__link">
    <span class="md-ellipsis">
      
        Andere Anpassungen
      
    </span>
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#entfernen-der-roundcube-tabellen-aus-der-mailcow-datenbank" class="md-nav__link">
    <span class="md-ellipsis">
      
        Entfernen der Roundcube-Tabellen aus der mailcow-Datenbank
      
    </span>
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              
              <article class="md-content__inner md-typeset">
                
                  
  
  


  <h1>Third party roundcube.de</h1>

<h2 id="installation-von-roundcube">Installation von Roundcube<a class="headerlink" href="#installation-von-roundcube" title="Permanent link">&para;</a></h2>
<div class="admonition note">
<p class="admonition-title">Beachten Sie</p>
<p>Sofern nicht abweichend angegeben wird fr alle aufgefhrten Kommandos angenommen, dass diese im mailcow
Installationsverzeichnis ausgefhrt werden, d. h. dem Verzeichnis, welches <code>mailcow.conf</code> usw. enthlt. Bitte fhren Sie
die Kommandos nicht blind aus, sondern verstehen Sie was diese bewirken. Keines der Kommandos sollte einen Fehler
ausgeben; sollten Sie dennoch auf einen Fehler stoen, beheben Sie diesen sofern notwendig bevor Sie mit den
nachfolgenden Kommandos fortfahren.</p>
</div>
<h3 id="hinweise-zur-verwendung-von-composer">Hinweise zur Verwendung von composer<a class="headerlink" href="#hinweise-zur-verwendung-von-composer" title="Permanent link">&para;</a></h3>
<p>Diese Anweisungen verwenden das Programm composer zur Aktualisierung der Abhngigkeiten von Roundcube und um
Roundcube-Plugins zu installieren bzw. zu aktualisieren.</p>
<p>Das roundcube-plugin-installer composer Plugin hat eine <a href="https://github.com/roundcube/plugin-installer/issues/38">Design-Schwche</a>,
die dazu fhren kann, dass composer bei Operationen fehlschlgt, im Rahmen derer Pakete aktualisiert oder deinstalliert
werden.</p>
<p>Die Fehlermeldung in diesem Falle besagt, dass eine <code>require</code>-Anweisung in <code>autoload_real.php</code> fehlgeschlagen ist, weil
eine Datei nicht gefunden werden konnte. Beispiel:</p>
<div class="highlight"><pre><span></span><code>In autoload_real.php line 43:
  require(/web/rc/vendor/composer/../guzzlehttp/promises/src/functions_include.php): Failed to open stream: No such file or directory
</code></pre></div>
<p>Leider treten diese Fehler relativ hufig auf, sie lassen sich jedoch leicht beheben indem der Autoloader aktualisiert
wird und das fehlgeschlagene Kommando im Anschluss erneut ausgefhrt wird:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-w<span class="w"> </span>/web/rc<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>composer<span class="w"> </span>dump-autoload<span class="w"> </span>-o
<span class="c1"># Nun das fehlgeschlagene Kommando erneut ausfhren</span>
</code></pre></div>
<h3 id="vorbereitung">Vorbereitung<a class="headerlink" href="#vorbereitung" title="Permanent link">&para;</a></h3>
<p>Zunchst laden wir <code>mailcow.conf</code> um Zugriff auf die mailcow-Einstellungen innerhalb der nachfolgenden Kommandos zu
erhalten.</p>
<div class="highlight"><pre><span></span><code><span class="nb">source</span><span class="w"> </span>mailcow.conf
</code></pre></div>
<p>Laden Sie Roundcube 1.6.x (prfen Sie das aktuellste Release und passen Sie die URL entsprechend an) in das web
Verzeichnis herunter und entpacken Sie es (hier <code>rc/</code>):</p>
<div class="highlight"><pre><span></span><code>mkdir<span class="w"> </span>-m<span class="w"> </span><span class="m">755</span><span class="w"> </span>data/web/rc
wget<span class="w"> </span>-O<span class="w"> </span>-<span class="w"> </span>https://github.com/roundcube/roundcubemail/releases/download/1.6.10/roundcubemail-1.6.10-complete.tar.gz<span class="w"> </span><span class="p">|</span><span class="w"> </span>tar<span class="w"> </span>-xvz<span class="w"> </span>--no-same-owner<span class="w"> </span>-C<span class="w"> </span>data/web/rc<span class="w"> </span>--strip-components<span class="o">=</span><span class="m">1</span><span class="w"> </span>-f<span class="w"> </span>-
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>chown<span class="w"> </span>www-data:www-data<span class="w"> </span>/web/rc/logs<span class="w"> </span>/web/rc/temp
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>chown<span class="w"> </span>root:www-data<span class="w"> </span>/web/rc/config
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>chmod<span class="w"> </span><span class="m">750</span><span class="w"> </span>/web/rc/logs<span class="w"> </span>/web/rc/temp<span class="w"> </span>/web/rc/config
</code></pre></div>
<h3 id="optional-rechtschreibprufung">Optional: Rechtschreibprfung<a class="headerlink" href="#optional-rechtschreibprufung" title="Permanent link">&para;</a></h3>
<p>Wenn Sie eine Rechtschreibprfung bentigen, erstellen Sie eine Datei <code>data/hooks/phpfpm/aspell.sh</code> mit folgendem Inhalt
und geben Sie dann <code>chmod +x data/hooks/phpfpm/aspell.sh</code> ein. Dadurch wird eine lokale Rechtschreibprfung installiert.
Beachten Sie, dass die meisten modernen Webbrowser eine eingebaute Rechtschreibprfung haben, so dass Sie diese
vielleicht nicht bentigen.</p>
<div class="highlight"><pre><span></span><code><span class="ch">#!/bin/bash</span>
apk<span class="w"> </span>update
apk<span class="w"> </span>add<span class="w"> </span>aspell-de<span class="w"> </span><span class="c1"># oder jede andere Sprache</span>
</code></pre></div>
<h3 id="installation-des-mime-typ-verzeichnisses">Installation des MIME-Typ-Verzeichnisses<a class="headerlink" href="#installation-des-mime-typ-verzeichnisses" title="Permanent link">&para;</a></h3>
<p>Laden Sie die <code>mime.types</code> Datei herunter, da diese nicht im <code>php-fpm</code>-Container enthalten ist.</p>
<div class="highlight"><pre><span></span><code>wget<span class="w"> </span>-O<span class="w"> </span>data/web/rc/config/mime.types<span class="w"> </span>http://svn.apache.org/repos/asf/httpd/httpd/trunk/docs/conf/mime.types
</code></pre></div>
<h3 id="anlegen-der-roundcube-datenbank">Anlegen der Roundcube-Datenbank<a class="headerlink" href="#anlegen-der-roundcube-datenbank" title="Permanent link">&para;</a></h3>
<p>Erstellen Sie eine Datenbank fr Roundcube im mailcow mysql Container. Dies erstellt einen neuen <code>roundcube</code>
Datenbank-Benutzer mit einem Zufallspasswort, welches in die Shell ausgegeben wird und in einer Shell-Variable fr die
Verwendung durch die nachfolgenden Kommandos gespeichert wird. Beachten Sie, dass Sie die <code>DBROUNDCUBE</code>-Shell-Variable
manuell auf das ausgegebene Passwort setzen mssen, falls sie den Installationsprozess unterbrechen und spter in einer
neuen Shell fortsetzen sollten.</p>
<div class="highlight"><pre><span></span><code><span class="nv">DBROUNDCUBE</span><span class="o">=</span><span class="k">$(</span><span class="nv">LC_ALL</span><span class="o">=</span>C<span class="w"> </span>&lt;/dev/urandom<span class="w"> </span>tr<span class="w"> </span>-dc<span class="w"> </span>A-Za-z0-9<span class="w"> </span><span class="m">2</span>&gt;<span class="w"> </span>/dev/null<span class="w"> </span><span class="p">|</span><span class="w"> </span>head<span class="w"> </span>-c<span class="w"> </span><span class="m">28</span><span class="k">)</span>
<span class="nb">echo</span><span class="w"> </span>Das<span class="w"> </span>Datenbank-Password<span class="w"> </span>fr<span class="w"> </span>den<span class="w"> </span>Benutzer<span class="w"> </span>roundcube<span class="w"> </span>lautet<span class="w"> </span><span class="nv">$DBROUNDCUBE</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;CREATE DATABASE roundcubemail CHARACTER SET utf8mb4 COLLATE utf8mb4_unicode_ci;&quot;</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;CREATE USER &#39;roundcube&#39;@&#39;%&#39; IDENTIFIED BY &#39;</span><span class="si">${</span><span class="nv">DBROUNDCUBE</span><span class="si">}</span><span class="s2">&#39;;&quot;</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;GRANT ALL PRIVILEGES ON roundcubemail.* TO &#39;roundcube&#39;@&#39;%&#39;;&quot;</span>
</code></pre></div>
<h3 id="roundcube-konfigurationsdatei">Roundcube-Konfigurationsdatei<a class="headerlink" href="#roundcube-konfigurationsdatei" title="Permanent link">&para;</a></h3>
<p>Erstellen Sie eine Datei <code>data/web/rc/config/config.inc.php</code> mit dem folgenden Inhalt.
  - Die <code>des_key</code>-Einstellung wird auf einen Zufallswert gesetzt. Sie wird u. a. zur Verschlsselung vorbergehend
    gespeicherter IMAP-Passwrter verwendet.
  - Die Liste der Plugins kann nach Belieben angepasst werden. Die folgende Liste enthlt eine Liste von
    Standard-Plugins, welche ich als allgemein ntzlich empfinde und die gut mit mailcow zusammenspielen:
    - Das archive-Plugin fgt einen Archiv-Button hinzu, der ausgewhlte E-Mails in ein konfigurierbares
      Archiv-Verzeichnis verschiebt.
    - Das managesieve-Plugin bietet eine benutzerfreundliche Oberflche zur Verwaltung serverseitiger E-Mail-Filter und
      Abwesenheits-Benachrichtigungen.
    - Das acl-Plugin ermglicht die Verwaltung von Zugriffskontroll-Listen auf IMAP-Verzeichnissen, mit der Mglichkeit
      IMAP-Verzeichnisse mit anderen Benutzern zu teilen.
    - Das markasjunk-Plugin fgt Buttons hinzu, um ausgewhlte E-Mails als Spam (oder E-Mails im Junk-Verzeichnis nicht
      als Spam) zu markieren und diese in das Junk-Verzeichnis (oder zurck in den Posteingang) zu verschieben. Die in
      mailcow enthaltenen Sieve-Filter lsen automatisch die zugehrige Lern-Operation in rspamd aus, so dass keine
      weitere Konfiguration des Plugins erforderlich ist.
    - Das zipdownload-Plugin erlaubt es, mehrere E-Mail-Anhnge oder E-Mails als ZIP-Archiv herunterzuladen.
  - Wenn Sie die Rechtschreibprfung im obigen Schritt nicht installiert haben, entfernen Sie den Parameter
    <code>spellcheck_engine</code>.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;data/web/rc/config/config.inc.php</span>
<span class="s">&lt;?php</span>
<span class="s">\$config[&#39;db_dsnw&#39;] = &#39;mysql://roundcube:${DBROUNDCUBE}@mysql/roundcubemail&#39;;</span>
<span class="s">\$config[&#39;imap_host&#39;] = &#39;dovecot:143&#39;;</span>
<span class="s">\$config[&#39;smtp_host&#39;] = &#39;postfix:588&#39;;</span>
<span class="s">\$config[&#39;smtp_user&#39;] = &#39;%u&#39;;</span>
<span class="s">\$config[&#39;smtp_pass&#39;] = &#39;%p&#39;;</span>
<span class="s">\$config[&#39;support_url&#39;] = &#39;&#39;;</span>
<span class="s">\$config[&#39;product_name&#39;] = &#39;Roundcube Webmail&#39;;</span>
<span class="s">\$config[&#39;cipher_method&#39;] = &#39;chacha20-poly1305&#39;;</span>
<span class="s">\$config[&#39;des_key&#39;] = &#39;$(LC_ALL=C &lt;/dev/urandom tr -dc &quot;A-Za-z0-9 !#$%&amp;()*+,-./:;&lt;=&gt;?@[\\]^_{|}~&quot; 2&gt; /dev/null | head -c 32)&#39;;</span>
<span class="s">\$config[&#39;plugins&#39;] = [</span>
<span class="s">  &#39;archive&#39;,</span>
<span class="s">  &#39;managesieve&#39;,</span>
<span class="s">  &#39;acl&#39;,</span>
<span class="s">  &#39;markasjunk&#39;,</span>
<span class="s">  &#39;zipdownload&#39;,</span>
<span class="s">];</span>
<span class="s">\$config[&#39;spellcheck_engine&#39;] = &#39;aspell&#39;;</span>
<span class="s">\$config[&#39;mime_types&#39;] = &#39;/web/rc/config/mime.types&#39;;</span>
<span class="s">\$config[&#39;enable_installer&#39;] = true;</span>

<span class="s">\$config[&#39;managesieve_host&#39;] = &#39;dovecot:4190&#39;;</span>
<span class="s">// Enables separate management interface for vacation responses (out-of-office)</span>
<span class="s">// 0 - no separate section (default); 1 - add Vacation section; 2 - add Vacation section, but hide Filters section</span>
<span class="s">\$config[&#39;managesieve_vacation&#39;] = 1;</span>
<span class="s">EOCONFIG</span>

docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>chown<span class="w"> </span>root:www-data<span class="w"> </span>/web/rc/config/config.inc.php
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>chmod<span class="w"> </span><span class="m">640</span><span class="w"> </span>/web/rc/config/config.inc.php
</code></pre></div>
<h3 id="initialisierung-der-datenbank">Initialisierung der Datenbank<a class="headerlink" href="#initialisierung-der-datenbank" title="Permanent link">&para;</a></h3>
<p>Richten Sie Ihren Browser auf <code>https://myserver/rc/installer</code>. Prfen Sie, dass die Webseite in keinem der Schritte "NOT
OK"-Testergebnisse zeigt. Einige "NOT AVAILABLE"-Testergebnisse sind bzgl. der verschiedenen Datenbank-Erweiterungen
erwartet, von denen nur MySQL bentigt wird.</p>
<p>Initialisieren Sie die Datenbank und verlassen Sie das Installationsprogramm. Es ist nicht notwendig, die
Konfigurationsdatei mit der heruntergeladenen Datei zu aktualisieren, sofern Sie keine nderungen an den Einstellungen
innerhalb des Installationsprogramms durchgefhrt habe, die Sie bernehmen mchten.</p>
<h3 id="webserver-konfiguration">Webserver-Konfiguration<a class="headerlink" href="#webserver-konfiguration" title="Permanent link">&para;</a></h3>
<p>Das Roundcube-Verzeichnis enthlt einige Inhalte, die nicht an Web-Nutzer ausgeliefert werden sollen. Wir erstellen
daher eine Konfigurations-Ergnzung fr nginx, um nur die ffentlichen Teile von Roundcube im Web zu exponieren:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;data/conf/nginx/site.roundcube.custom</span>
<span class="s">location /rc/ {</span>
<span class="s">  alias /web/rc/public_html/;</span>
<span class="s">}</span>
<span class="s">EOCONFIG</span>
</code></pre></div>
<h3 id="deaktivieren-und-entfernen-des-installationsprogramms">Deaktivieren und entfernen des Installationsprogramms<a class="headerlink" href="#deaktivieren-und-entfernen-des-installationsprogramms" title="Permanent link">&para;</a></h3>
<p>Lschen Sie das Verzeichnis <code>data/web/rc/installer</code> nach einer erfolgreichen Installation, und setzen Sie die
<code>enable_installer</code>-Option in <code>data/web/rc/config/config.inc.php</code> auf <code>false</code>:</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-r<span class="w"> </span>data/web/rc/installer
sed<span class="w"> </span>-i<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;s/\(\$config\[&#39;enable_installer&#39;\].* = \)true/\1false/&quot;</span><span class="w"> </span>data/web/rc/config/config.inc.php
</code></pre></div>
<h3 id="aktualisierung-der-roundcube-abhangigkeiten">Aktualisierung der Roundcube-Abhngigkeiten<a class="headerlink" href="#aktualisierung-der-roundcube-abhangigkeiten" title="Permanent link">&para;</a></h3>
<p>Dieser Schritt ist nicht unbedingt notwendig, aber zumindest zum Zeitpunkt der Erstellung dieser Anweisungen enthielten
die mit Roundcube ausgelieferten Abhngigkeiten Versionen mit Sicherheitslcken, daher knnte es eine gute Idee sein,
die Abhngigkeiten auf die neusten Versionen zu aktualisieren. Aus demselben Grund sollte composer update hin und wieder
ausgefhrt werden.</p>
<div class="highlight"><pre><span></span><code>cp<span class="w"> </span>-n<span class="w"> </span>data/web/rc/composer.json-dist<span class="w"> </span>data/web/rc/composer.json
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-w<span class="w"> </span>/web/rc<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>composer<span class="w"> </span>update<span class="w"> </span>--no-dev<span class="w"> </span>-o
</code></pre></div>
<p>Sie knnen auerdem <code>composer audit</code> verwenden, um bekannte Sicherheitslcken in den installierten composer-Paketen
anzuzeigen.</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-w<span class="w"> </span>/web/rc<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>composer<span class="w"> </span>audit
</code></pre></div>
<h3 id="ermoglichen-der-klartext-authentifizierung-fur-den-php-fpm-container-ohne-die-verwendung-von-tls">Ermglichen der Klartext-Authentifizierung fr den php-fpm-Container ohne die Verwendung von TLS<a class="headerlink" href="#ermoglichen-der-klartext-authentifizierung-fur-den-php-fpm-container-ohne-die-verwendung-von-tls" title="Permanent link">&para;</a></h3>
<p>Wir mssen die Verwendung von Klartext-Authentifizierung ber nicht verschlsselte Verbindungen (innerhalb der
Container-Netzwerks) in Dovecot zulassen, was in der Standard-Installation von mailcow nur fr den SOGo-Container
zum gleichen Zweck mglich ist. Danach starten Sie den Dovecot-Container neu, damit die nderung wirksam wird.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w">  </span><span class="s">&lt;&lt;EOCONFIG &gt;&gt;data/conf/dovecot/extra.conf</span>
<span class="s">remote ${IPV4_NETWORK}.0/24 {</span>
<span class="s">  disable_plaintext_auth = no</span>
<span class="s">}</span>
<span class="s">remote ${IPV6_NETWORK} {</span>
<span class="s">  disable_plaintext_auth = no</span>
<span class="s">}</span>
<span class="s">EOCONFIG</span>

docker<span class="w"> </span>compose<span class="w"> </span>restart<span class="w"> </span>dovecot-mailcow
</code></pre></div>
<h3 id="ofelia-job-fur-roundcube-aufraumtatigkeiten">Ofelia-Job fr Roundcube-Aufrumttigkeiten<a class="headerlink" href="#ofelia-job-fur-roundcube-aufraumtatigkeiten" title="Permanent link">&para;</a></h3>
<p>Roundcube muss regelmssig die Datenbank von nicht mehr bentigter Information befreien. Wir legen einen Ofelia-Job an,
der das Roundcube <code>cleandb.sh</code>-Skript regelmssig ausfhrt.</p>
<p>Um dies zu tun, fgen Sie folgendes zu <code>docker-compose.override.yml</code> hinzu (falls Sie bereits einige Anpassungen fr den
php-fpm-Container durchgefhrt haben, fgen Sie die Label dem bestehenden Abschnitt hinzu):</p>
<div class="highlight"><pre><span></span><code>services:
  php-fpm-mailcow:
    labels:
      ofelia.enabled: &quot;true&quot;
      ofelia.job-exec.roundcube_cleandb.schedule: &quot;@every 168h&quot;
      ofelia.job-exec.roundcube_cleandb.user: &quot;www-data&quot;
      ofelia.job-exec.roundcube_cleandb.command: &quot;/bin/bash -c \&quot;[ -f /web/rc/bin/cleandb.sh ] &amp;&amp; /web/rc/bin/cleandb.sh\&quot;&quot;
</code></pre></div>
<h2 id="optionale-zusatz-funktionalitaten">Optionale Zusatz-Funktionalitten<a class="headerlink" href="#optionale-zusatz-funktionalitaten" title="Permanent link">&para;</a></h2>
<h2 id="aktivieren-der-funktion-passwort-andern-in-roundcube">Aktivieren der Funktion "Passwort ndern" in Roundcube<a class="headerlink" href="#aktivieren-der-funktion-passwort-andern-in-roundcube" title="Permanent link">&para;</a></h2>
<p>Das ndern des mailcow Passworts aus der Roundcube-Benutzeroberflche wird durch das password-Plugin ermglicht. Wir
konfigurieren dieses zur Verwendung der mailcow-API zur Passwort-Aktualisierung, was es zunchst erfordert, die API zu
aktivieren und den API-Schlssel zu ermitteln (Lese-/Schreib-Zugriff notwendig). Die API kann in der
mailcow-Administrationsoberflche aktiviert werden, wo Sie auch den API-Schlssel finden.</p>
<p>ffnen Sie <code>data/web/rc/config/config.inc.php</code> und aktivieren Sie das Passwort-Plugin, indem Sie es dem
<code>$config['plugins']</code>-Array hinzufgen, zum Beispiel:</p>
<div class="highlight"><pre><span></span><code><span class="x">$config[&#39;plugins&#39;] = array(</span>
<span class="x">  &#39;archive&#39;,</span>
<span class="x">  &#39;managesieve&#39;,</span>
<span class="x">  &#39;acl&#39;,</span>
<span class="x">  &#39;markasjunk&#39;,</span>
<span class="x">  &#39;zipdownload&#39;,</span>
<span class="x">  &#39;password&#39;,</span>
<span class="x">);</span>
</code></pre></div>
<p>Konfigurieren Sie das password-Plugin (stellen Sie sicher, <strong>**API_KEY**</strong> auf Ihren mailcow Lese-/Schreib-API-Schlssel
anzupassen):</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;data/web/rc/plugins/password/config.inc.php</span>
<span class="s">&lt;?php</span>
<span class="s">\$config[&#39;password_driver&#39;] = &#39;mailcow&#39;;</span>
<span class="s">\$config[&#39;password_confirm_current&#39;] = true;</span>
<span class="s">\$config[&#39;password_mailcow_api_host&#39;] = &#39;http://nginx&#39;;</span>
<span class="s">\$config[&#39;password_mailcow_api_token&#39;] = &#39;**API_KEY**&#39;;</span>
<span class="s">EOCONFIG</span>
</code></pre></div>
<p>Hinweis: Sollten Sie die mailcow nginx-Konfiguration so angepasst haben, dass http-Anfragen auf https umgeleitet werden
(wie z. B. <a href="../../../manual-guides/u_e-80_to_443/">hier</a> beschrieben), dann wird die direkte
Verbindung zum nginx-Container via HTTP nicht funktionieren, da nginx kein im Zertifikat enthaltener Hostname ist. In
solchen Fllen setzen Sie <code>password_mailcow_api_host</code> stattdessen auf die ffentliche URI:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;data/web/rc/plugins/password/config.inc.php</span>
<span class="s">&lt;?php</span>
<span class="s">\$config[&#39;password_driver&#39;] = &#39;mailcow&#39;;</span>
<span class="s">\$config[&#39;password_confirm_current&#39;] = true;</span>
<span class="s">\$config[&#39;password_mailcow_api_host&#39;] = &#39;https://${MAILCOW_HOSTNAME}&#39;;</span>
<span class="s">\$config[&#39;password_mailcow_api_token&#39;] = &#39;**API_KEY**&#39;;</span>
<span class="s">EOCONFIG</span>
</code></pre></div>
<h2 id="carddav-adressbucher-in-roundcube-einbinden">CardDAV-Adressbcher in Roundcube einbinden<a class="headerlink" href="#carddav-adressbucher-in-roundcube-einbinden" title="Permanent link">&para;</a></h2>
<p>Installieren Sie die neuste v5-Version (die untenstehende Konfiguration ist kompatibel zu v5-Releases) mit composer.
Antworten Sie <code>Y</code>, wenn Sie gefragt werden, ob Sie das Plugin aktivieren mchten.</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-w<span class="w"> </span>/web/rc<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>composer<span class="w"> </span>require<span class="w"> </span>--update-no-dev<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;roundcube/carddav:~5&quot;</span>
</code></pre></div>
<p>Editieren Sie die Datei <code>data/web/rc/plugins/carddav/config.inc.php</code> und fgen Sie folgenden Inhalt hinzu:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;data/web/rc/plugins/carddav/config.inc.php</span>
<span class="s">&lt;?php</span>
<span class="s">\$prefs[&#39;_GLOBAL&#39;][&#39;pwstore_scheme&#39;] = &#39;des_key&#39;;</span>

<span class="s">\$prefs[&#39;SOGo&#39;] = [</span>
<span class="s">    &#39;accountname&#39;    =&gt; &#39;SOGo&#39;,</span>
<span class="s">    &#39;username&#39;       =&gt; &#39;%u&#39;,</span>
<span class="s">    &#39;password&#39;       =&gt; &#39;%p&#39;,</span>
<span class="s">    &#39;discovery_url&#39;  =&gt; &#39;http://sogo:20000/SOGo/dav/&#39;,</span>
<span class="s">    &#39;name&#39;           =&gt; &#39;%N&#39;,</span>
<span class="s">    &#39;use_categories&#39; =&gt; true,</span>
<span class="s">    &#39;fixed&#39;          =&gt; [&#39;username&#39;, &#39;password&#39;],</span>
<span class="s">];</span>
<span class="s">EOCONFIG</span>
</code></pre></div>
<p>RCMCardDAV legt alle Adressbcher des Benutzers beim Login in Roundcube an, einschlielich <strong>abonnierten</strong> Adressbchern
die mit dem Benutzers von anderen Benutzern geteilt werden.</p>
<p>Wenn Sie das Standard-Adressbuch (gespeichert in der Roundcube-Datenbank) entfernen mchten, so dass nur
CardDAV-Adressbcher verwendet werden knnen, fgen Sie der Konfigurationsdatei <code>data/web/rc/config/config.inc.php</code> die
Option <code>$config['address_book_type'] = '';</code> hinzu.</p>
<p>Hinweis: RCMCardDAV verwendet zustzliche Datenbank-Tabellen. Nach der Installation (oder Aktualisierung) von RCMCardDAV
ist es notwendig, sich in Roundcube neu anzumelden (melden Sie sich vorher ab, wenn Sie bereits eingeloggt sind), da die
Erzeugung der Datenbank-Tabellen bzw. nderungen nur bei der Anmeldung in Roundcube durchgefhrt werden.</p>
<h3 id="ubermittlung-der-client-netzwerkadresse-an-dovecot">bermittlung der Client-Netzwerkadresse an Dovecot<a class="headerlink" href="#ubermittlung-der-client-netzwerkadresse-an-dovecot" title="Permanent link">&para;</a></h3>
<p>Normalerweise sieht der IMAP-Server Dovecot die Netzwerkadresse des php-fpm-Containers wenn Roundcube zu diesem
Verbindungen aufbaut. Durch Verwendung einer IMAP-Erweiterung und dem <code>dovecot_client_ip</code> Roundcube-Plugin ist
es mglich, dass Roundcube Dovecot die Client-Netzwerkadresse bermittelt, so dass in den Log-Dateien die
Client-Netzwerkadresse erscheint. Dies fhrt dazu, dass Login-Versuche an Roundcube in den Dovecot-Logs genauso wie
direkte Client-Verbindungen zu Dovecot aufgezeichnet werden, und fehlgeschlagene Login-Versuche an Roundcube
analog zu fehlgeschlagenen direkten IMAP-Logins durch den netfilter-Container oder andere ggf. verfgbare Mechanismen
zur Behandlung von Bruteforce-Attacken auf den IMAP-Server aufgegriffen werden und z. B. zu einer Blockierung des
Clients fhren.</p>
<p>Hierzu muss das Roundcube-Plugin installiert werden:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-w<span class="w"> </span>/web/rc<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>composer<span class="w"> </span>require<span class="w"> </span>--update-no-dev<span class="w"> </span>-o<span class="w"> </span><span class="s2">&quot;foorschtbar/dovecot_client_ip:~2&quot;</span>
</code></pre></div>
<p>Bearbeiten Sie die Datei <code>data/web/rc/config/config.inc.php</code> und fgen Sie den folgenden Inhalt ein:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;&gt;data/web/rc/config/config.inc.php</span>
<span class="s">\$config[&#39;dovecot_client_ip_trusted_proxies&#39;] = [&#39;${IPV4_NETWORK}.0/24&#39;, &#39;${IPV6_NETWORK}&#39;];</span>
<span class="s">EOCONFIG</span>
</code></pre></div>
<p>Weiterhin mssen wir Dovecot konfigurieren, so dass der php-fpm-Container als Teil eines vertrauenswrdigen Netzwerks
betrachtet wird und somit die Client-Netzwerkadresse innerhalb einer IMAP-Sitzung berschreiben darf. Beachten Sie, dass
dies auch die Klartext-Authentifizierung fr die aufgefhrten Netzwerkbereiche erlaubt, so dass das explizite
berschreiben von <code>disable_plaintext_auth</code> weiter oben in diesem Fall nicht notwendig ist.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w">  </span><span class="s">&lt;&lt;EOCONFIG &gt;&gt;data/conf/dovecot/extra.conf</span>
<span class="s">login_trusted_networks = ${IPV4_NETWORK}.0/24 ${IPV6_NETWORK}</span>
<span class="s">EOCONFIG</span>

docker<span class="w"> </span>compose<span class="w"> </span>restart<span class="w"> </span>dovecot-mailcow
</code></pre></div>
<h3 id="roundcube-zur-mailcow-apps-liste-hinzufugen">Roundcube zur mailcow Apps-Liste hinzufgen<a class="headerlink" href="#roundcube-zur-mailcow-apps-liste-hinzufugen" title="Permanent link">&para;</a></h3>
<p>Optional knnen Sie Roundcubes Link zu der mailcow Apps Liste hinzufgen.
Um dies zu tun, ffnen oder erstellen Sie <code>data/web/inc/vars.local.inc.php</code> und stellen Sie sicher, dass es den
folgenden Konfigurationsblock beinhaltet:</p>
<div class="highlight"><pre><span></span><code><span class="cp">&lt;?php</span>

<span class="nv">$MAILCOW_APPS</span> <span class="o">=</span> <span class="p">[</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;SOGo&#39;</span><span class="p">,</span>
        <span class="s1">&#39;link&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/SOGo/&#39;</span>
    <span class="p">],</span>
    <span class="p">[</span>
        <span class="s1">&#39;name&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;Roundcube&#39;</span><span class="p">,</span>
        <span class="s1">&#39;link&#39;</span> <span class="o">=&gt;</span> <span class="s1">&#39;/rc/&#39;</span>
    <span class="p">]</span>
<span class="p">];</span>
</code></pre></div>
<h3 id="administratoren-ohne-passwort-in-roundcube-einloggen-lassen">Administratoren ohne Passwort in Roundcube einloggen lassen<a class="headerlink" href="#administratoren-ohne-passwort-in-roundcube-einloggen-lassen" title="Permanent link">&para;</a></h3>
<p>Installieren Sie zunchst das Plugin <a href="https://github.com/corbosman/dovecot_impersonate/">dovecot_impersonate</a> und fgen Sie Roundcube als App hinzu (siehe oben).</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-w<span class="w"> </span>/web/rc/plugins<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>git<span class="w"> </span>clone<span class="w"> </span>https://github.com/corbosman/dovecot_impersonate.git
</code></pre></div>
<p>Editieren Sie <code>data/web/rc/config/config.inc.php</code> und aktivieren Sie das dovecot_impersonate Plugin indem Sie es zum Array <code>$config['plugins']</code> hinzufgen,
zum Beispiel:</p>
<div class="highlight"><pre><span></span><code><span class="x">$config[&#39;plugins&#39;] = array(</span>
<span class="x">  &#39;archive&#39;,</span>
<span class="x">  &#39;managesieve&#39;,</span>
<span class="x">  &#39;acl&#39;,</span>
<span class="x">  &#39;markasjunk&#39;,</span>
<span class="x">  &#39;zipdownload&#39;,</span>
<span class="x">  &#39;password&#39;,</span>
<span class="x">  &#39;dovecot_impersonate&#39;</span>
<span class="x">);</span>
</code></pre></div>
<p>Editieren Sie <code>mailcow.conf</code> und fgen Sie folgendes hinzu:</p>
<div class="highlight"><pre><span></span><code># Erlaube Admins, sich in Roundcube als Email-Benutzer einzuloggen (ohne Passwort)
# Roundcube mit Plugin dovecot_impersonate muss zuerst installiert werden

ALLOW_ADMIN_EMAIL_LOGIN_ROUNDCUBE=y
</code></pre></div>
<p>Editieren Sie <code>docker-compose.override.yml</code> und verfassen/erweitern Sie den Abschnitt fr <code>php-fpm-mailcow</code>:</p>
<div class="highlight"><pre><span></span><code>services:
  php-fpm-mailcow:
    environment:
      - ALLOW_ADMIN_EMAIL_LOGIN_ROUNDCUBE=${ALLOW_ADMIN_EMAIL_LOGIN_ROUNDCUBE:-n}
</code></pre></div>
<p>Bearbeiten Sie <code>data/web/js/site/mailbox.js</code> und den folgenden Code nach <a href="https://github.com/mailcow/mailcow-dockerized/blob/2f9da5ae93d93bf62a8c2b7a5a6ae50a41170c48/data/web/js/site/mailbox.js#L485-L487"><code>if (ALLOW_ADMIN_EMAIL_LOGIN) { ... }</code></a></p>
<div class="highlight"><pre><span></span><code><span class="k">if</span><span class="w"> </span><span class="p">(</span><span class="nx">ALLOW_ADMIN_EMAIL_LOGIN_ROUNDCUBE</span><span class="p">)</span><span class="w"> </span><span class="p">{</span>
<span class="w">  </span><span class="nx">item</span><span class="p">.</span><span class="nx">action</span><span class="w"> </span><span class="o">+=</span><span class="w"> </span><span class="s1">&#39;&lt;a href=&quot;/rc-auth.php?login=&#39;</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="nb">encodeURIComponent</span><span class="p">(</span><span class="nx">item</span><span class="p">.</span><span class="nx">username</span><span class="p">)</span><span class="w"> </span><span class="o">+</span><span class="w"> </span><span class="s1">&#39;&quot; class=&quot;login_as btn btn-sm btn-xs-half btn-primary&quot; target=&quot;_blank&quot;&gt;&lt;i class=&quot;bi bi-envelope-fill&quot;&gt;&lt;/i&gt; Roundcube&lt;/a&gt;&#39;</span><span class="p">;</span>
<span class="p">}</span>
</code></pre></div>
<p>Bearbeiten Sie <code>data/web/mailbox.php</code> und fgen Sie diese Zeile zum Array <a href="https://github.com/mailcow/mailcow-dockerized/blob/2f9da5ae93d93bf62a8c2b7a5a6ae50a41170c48/data/web/mailbox.php#L33-L43"><code>$template_data</code></a> hinzu:</p>
<div class="highlight"><pre><span></span><code><span class="x">  &#39;allow_admin_email_login_roundcube&#39; =&gt; (preg_match(&quot;/^(yes|y)+$/i&quot;, $_ENV[&quot;ALLOW_ADMIN_EMAIL_LOGIN_ROUNDCUBE&quot;])) ? &#39;true&#39; : &#39;false&#39;,</span>
</code></pre></div>
<p>Bearbeiten Sie <code>data/web/templates/mailbox.twig</code> und fgen Sie diesen Code am Ende des <a href="https://github.com/mailcow/mailcow-dockerized/blob/2f9da5ae93d93bf62a8c2b7a5a6ae50a41170c48/data/web/templates/mailbox.twig#L49-L57">Javascript-Abschnitts</a> ein:</p>
<div class="highlight"><pre><span></span><code><span class="w">  </span><span class="kd">var</span><span class="w"> </span><span class="nx">ALLOW_ADMIN_EMAIL_LOGIN_ROUNDCUBE</span><span class="w"> </span><span class="o">=</span><span class="w"> </span><span class="p">{{</span><span class="w"> </span><span class="nx">allow_admin_email_login_roundcube</span><span class="w"> </span><span class="p">}};</span>
</code></pre></div>
<p>Kopieren Sie den Inhalt der folgenden Dateien aus diesem <a href="https://gitlab.com/-/snippets/2038244">Snippet</a>:</p>
<ul>
<li><code>data/web/inc/lib/RoundcubeAutoLogin.php</code></li>
<li><code>data/web/rc-auth.php</code></li>
</ul>
<h2 id="abschluss-der-installation">Abschluss der Installation<a class="headerlink" href="#abschluss-der-installation" title="Permanent link">&para;</a></h2>
<p>Starten Sie schlielich mailcow neu</p>
<div class="tabbed-set tabbed-alternate" data-tabs="1:2"><input checked="checked" id="__tabbed_1_1" name="__tabbed_1" type="radio" /><input id="__tabbed_1_2" name="__tabbed_1" type="radio" /><div class="tabbed-labels"><label for="__tabbed_1_1">docker compose (Plugin)</label><label for="__tabbed_1_2">docker-compose (Standalone)</label></div>
<div class="tabbed-content">
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span>down
docker<span class="w"> </span>compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div>
</div>
<div class="tabbed-block">
<div class="highlight"><pre><span></span><code>docker-compose<span class="w"> </span>down
docker-compose<span class="w"> </span>up<span class="w"> </span>-d
</code></pre></div>
</div>
</div>
</div>
<h2 id="aktualisierung-von-roundcube">Aktualisierung von Roundcube<a class="headerlink" href="#aktualisierung-von-roundcube" title="Permanent link">&para;</a></h2>
<p>Ein Upgrade von Roundcube ist recht einfach: Gehen Sie auf die
<a href="https://github.com/roundcube/roundcubemail/releases">GitHub releases</a> Seite fr Roundcube und holen Sie sich den Link
fr die "complete.tar.gz" Datei fr die gewnschte Version. Dann folgen Sie den untenstehenden Befehlen und ndern Sie
die URL und den Namen des Roundcube-Ordners, falls ntig.</p>
<div class="highlight"><pre><span></span><code><span class="c1"># Starten Sie eine Bash-Sitzung des mailcow PHP-Containers</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>mailcowdockerized-php-fpm-mailcow-1<span class="w"> </span>bash

<span class="c1"># Installieren Sie die erforderliche Upgrade-Abhngigkeit, dann aktualisieren Sie Roundcube auf die gewnschte Version</span>
apk<span class="w"> </span>add<span class="w"> </span>rsync
<span class="nb">cd</span><span class="w"> </span>/tmp
wget<span class="w"> </span>-O<span class="w"> </span>-<span class="w"> </span>https://github.com/roundcube/roundcubemail/releases/download/1.6.10/roundcubemail-1.6.10-complete.tar.gz<span class="w"> </span><span class="p">|</span><span class="w"> </span>tar<span class="w"> </span>xfvz<span class="w"> </span>-
<span class="nb">cd</span><span class="w"> </span>roundcubemail-1.6.10
bin/installto.sh<span class="w"> </span>/web/rc

<span class="c1"># Geben Sie &#39;Y&#39; ein und drcken Sie die Eingabetaste, um Ihre Installation von Roundcube zu aktualisieren.</span>
<span class="c1"># Geben Sie &#39;N&#39; ein, wenn folgender Dialog erscheint: &quot;Do you want me to fix your local configuration&quot;.</span>

<span class="c1"># Sollte im Output eine Notice kommen &quot;NOTICE: Update dependencies by running php composer.phar update --no-dev&quot; fhren</span>
Sie<span class="w"> </span>composer<span class="w"> </span>aus:
<span class="nb">cd</span><span class="w"> </span>/web/rc
composer<span class="w"> </span>update<span class="w"> </span>--no-dev<span class="w"> </span>-o
<span class="c1"># Auf die Frage &quot;Do you trust &quot;roundcube/plugin-installer&quot; to execute code and wish to enable it now? (writes &quot;allow-plugins&quot; to composer.json) [y,n,d,?] &quot; bitte mit y antworten.</span>

<span class="c1"># Entfernen Sie brig gebliebene Dateien</span>
rm<span class="w"> </span>-rf<span class="w"> </span>/tmp/roundcube*

<span class="c1"># Falls Sie von Version 1.5 auf 1.6 updaten, dann fhren Sie folgende Befehle aus, um die Konfigurationsdatei anzupassen:`</span>
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;s/\$config\[&#39;default_host&#39;\].*</span>$<span class="s2">/\$config\[&#39;imap_host&#39;\]\ =\ &#39;dovecot:143&#39;\;/&quot;</span><span class="w"> </span>/web/rc/config/config.inc.php
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/\$config\[&#39;default_port&#39;\].*</span>$<span class="s2">/d&quot;</span><span class="w"> </span>/web/rc/config/config.inc.php
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;s/\$config\[&#39;smtp_server&#39;\].*</span>$<span class="s2">/\$config\[&#39;smtp_host&#39;\]\ =\ &#39;postfix:588&#39;\;/&quot;</span><span class="w"> </span>/web/rc/config/config.inc.php
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/\$config\[&#39;smtp_port&#39;\].*</span>$<span class="s2">/d&quot;</span><span class="w"> </span>/web/rc/config/config.inc.php
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;s/\$config\[&#39;managesieve_host&#39;\].*</span>$<span class="s2">/\$config\[&#39;managesieve_host&#39;\]\ =\ &#39;dovecot:4190&#39;\;/&quot;</span><span class="w"> </span>/web/rc/config/config.inc.php
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/\$config\[&#39;managesieve_port&#39;\].*</span>$<span class="s2">/d&quot;</span><span class="w"> </span>/web/rc/config/config.inc.php
</code></pre></div>
<h3 id="aktualisierung-von-composer-plugins">Aktualisierung von composer-Plugins<a class="headerlink" href="#aktualisierung-von-composer-plugins" title="Permanent link">&para;</a></h3>
<p>Um Roundcube-Plugins und -Abhngigkeiten zu aktualisieren, die mit composer installiert wurden (z. B.
RCMCardDAV-Plugin), fhren Sie einfach composer im Container aus:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span>-w<span class="w"> </span>/web/rc<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>php-fpm-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>composer<span class="w"> </span>update<span class="w"> </span>--no-dev<span class="w"> </span>-o
</code></pre></div>
<h3 id="aktualisierung-des-mime-typ-verzeichnisses">Aktualisierung des MIME-Typ-Verzeichnisses<a class="headerlink" href="#aktualisierung-des-mime-typ-verzeichnisses" title="Permanent link">&para;</a></h3>
<p>Um das MIME-Typ-Verzeichnis zu aktualisieren, laden Sie dieses erneut mit dem Kommando aus den
<a href="#installation-des-mime-typ-verzeichnisses">Installations-Anweisungen</a> herunter.</p>
<h2 id="deinstallation-von-roundcube">Deinstallation von Roundcube<a class="headerlink" href="#deinstallation-von-roundcube" title="Permanent link">&para;</a></h2>
<p>Fr die Deinstallation wird ebenfalls angenommen, dass die Kommandos im mailcow-Installationsverzeichnis ausgefhrt
werden und dass <code>mailcow.conf</code> in die Shell geladen wurde, siehe Abschnitt <a href="#vorbereitung">Vorbereitung</a> oben.</p>
<h3 id="entfernen-des-web-verzeichnisses">Entfernen des Web-Verzeichnisses<a class="headerlink" href="#entfernen-des-web-verzeichnisses" title="Permanent link">&para;</a></h3>
<p>Dies entfernt die Roundcube-Installation mit allen Plugins und Abhngigkeiten die Sie ggf. installiert haben,
einschlielich solcher, die mit composer installiert wurden.</p>
<p>Hinweis: Dies entfernt auch alle angepassten Konfigurationen die Sie ggf. in Roundcube durchgefhrt haben. Sollten Sie
diese erhalten wollen, verschieben Sie das Verzeichnis an einen anderen Ort statt es zu entfernen.</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-r<span class="w"> </span>data/web/rc
</code></pre></div>
<h3 id="entfernen-der-datenbank">Entfernen der Datenbank<a class="headerlink" href="#entfernen-der-datenbank" title="Permanent link">&para;</a></h3>
<p>Hinweis: Dies lscht alle Daten, die Roundcube abgespeichert hat. Wenn Sie diese erhalten mchten, knnen Sie
<code>mysqldump</code> ausfhren, bevor Sie die Datenbank lschen, oder die Datenbank einfach nicht lschen.</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;DROP USER &#39;roundcube&#39;@&#39;%&#39;;&quot;</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;DROP DATABASE roundcubemail;&quot;</span>
</code></pre></div>
<h3 id="entfernen-der-konfigurationsanpassungen-fur-mailcow">Entfernen der Konfigurationsanpassungen fr mailcow<a class="headerlink" href="#entfernen-der-konfigurationsanpassungen-fur-mailcow" title="Permanent link">&para;</a></h3>
<p>Um die Dateien zu ermitteln, lesen Sie bitte die Installationsanweisungen und machen Sie die Schritte, die Sie dort
zuvor durchgefhrt haben, rckgngig.</p>
<h2 id="migration-von-einer-alteren-mailcow-roundcube-installation">Migration von einer lteren mailcow-Roundcube-Installation<a class="headerlink" href="#migration-von-einer-alteren-mailcow-roundcube-installation" title="Permanent link">&para;</a></h2>
<p>ltere Versionen dieser Anleitung verwendeten die mailcow-Datenbank auch fr Roundcube, mit einem konfigurierten Prfix
<code>mailcow_rc1</code> fr alle Roundcube-Tabellen.</p>
<p>Zur Migration wird ebenfalls angenommen, dass alle Kommandos im mailcow-Installationsverzeichnis ausgefhrt werden und
<code>mailcow.conf</code> in die Shell geladen wurde, siehe <a href="#vorbereitung">Vorbereitung</a> oben. Dies Kommandos der verschiedenen
Schritte bauen aufeinander auf und mssen innerhalb derselben Shell ausgefhrt werden. Insbesondere setzen einige
Schritte Shell-Variablen (besonders die <code>DBROUNDCUBE</code>-Variable mit dem Datenbank-Passwort fr den
roundcube-Datenbankbenutzer), die in spteren Schritten verwendet werden.</p>
<h3 id="anlegen-eines-neuen-roundcube-datenbankbenutzers-und-der-datenbank">Anlegen eines neuen roundcube-Datenbankbenutzers und der Datenbank<a class="headerlink" href="#anlegen-eines-neuen-roundcube-datenbankbenutzers-und-der-datenbank" title="Permanent link">&para;</a></h3>
<p>Folgen Sie den <a href="#anlegen-der-roundcube-datenbank">Anweisungen oben</a> um den roundcube-Datenbankbenutzer und die getrennte
Datenbank anzulegen.</p>
<h3 id="migration-der-roundcube-daten-aus-der-mailcow-datenbank">Migration der Roundcube-Daten aus der mailcow-Datenbank<a class="headerlink" href="#migration-der-roundcube-daten-aus-der-mailcow-datenbank" title="Permanent link">&para;</a></h3>
<p>Bevor wir mit der Migration starten, deaktivieren wir Roundcube, um weitere nderungen an dessen Datenbank-Tabellen zu
vermeiden.</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;data/conf/nginx/site.roundcube.custom</span>
<span class="s">location ^~ /rc/ {</span>
<span class="s">  return 503;</span>
<span class="s">}</span>
<span class="s">EOCONFIG</span>
docker<span class="w"> </span>compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>nginx-mailcow<span class="w"> </span>nginx<span class="w"> </span>-s<span class="w"> </span>reload
</code></pre></div>
<p>Nun kopieren wir die Roundcube-Daten in die neue Datenbank. Wir entfernen das Datenbank-Tabellen-Prfix in diesem
Schritt, welches Sie ggf. anpassen mssen, wenn Sie ein anderes Prfix als <code>mailcow_rc1</code> verwendet haben. Es ist auch
mglich, das Prfix beizubehalten (in diesem Fall behalten Sie auch die zugehrige Roundcube-Einstellung <code>db_prefix</code>
bei). ndern Sie dann die Datenbank-Fremdschlssel.</p>
<div class="highlight"><pre><span></span><code><span class="nv">RCTABLES</span><span class="o">=</span><span class="k">$(</span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-sN<span class="w"> </span>mailcow<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;show tables like &#39;mailcow_rc1%&#39;;&quot;</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>tr<span class="w"> </span><span class="s1">&#39;\n\r&#39;</span><span class="w"> </span><span class="s1">&#39; &#39;</span><span class="k">)</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>/bin/bash<span class="w"> </span>-c<span class="w"> </span><span class="s2">&quot;mysqldump -uroot -p</span><span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="s2"> mailcow </span><span class="nv">$RCTABLES</span><span class="s2"> | sed &#39;s/mailcow_rc1//&#39; | mysql -uroot -p</span><span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="s2"> roundcubemail&quot;</span>
<span class="nv">FOREIGNKEYS</span><span class="o">=</span><span class="k">$(</span>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-sN<span class="w"> </span>mailcow<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SELECT CONCAT(&#39;ALTER TABLE \`&#39;, TABLE_NAME, &#39;\` &#39;, &#39;DROP FOREIGN KEY \`&#39;, CONSTRAINT_NAME, &#39;\`;&#39;, &#39;ALTER TABLE \`&#39;, TABLE_NAME, &#39;\` &#39;, &#39;ADD FOREIGN KEY \`&#39;, CONSTRAINT_NAME, &#39;\` (&#39;, COLUMN_NAME, &#39;) &#39;, &#39;REFERENCES \`&#39;, REPLACE(REFERENCED_TABLE_NAME, &#39;mailcow_rc1&#39;, &#39;&#39;), &#39;\` (&#39;, REFERENCED_COLUMN_NAME, &#39;);&#39;) FROM INFORMATION_SCHEMA.KEY_COLUMN_USAGE WHERE TABLE_SCHEMA = &#39;roundcubemail&#39; AND REFERENCED_TABLE_NAME IS NOT NULL;&quot;</span><span class="k">)</span>
docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>roundcubemail<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;</span><span class="nv">$FOREIGNKEYS</span><span class="s2">&quot;</span>
</code></pre></div>
<h3 id="aktualisierung-der-roundcube-konfiguration">Aktualisierung der Roundcube-Konfiguration<a class="headerlink" href="#aktualisierung-der-roundcube-konfiguration" title="Permanent link">&para;</a></h3>
<p>Fhren Sie folgende Kommandos aus, um die nicht mehr notwendige <code>db_prefix</code> Option zu entfernen. Wir aktivieren auerdem
das Logging in Roundcube, indem wir die Einstellungen <code>log_dir</code> und <code>temp_dir</code> entfernen, welche Teil der alten
Anweisungen waren.</p>
<div class="highlight"><pre><span></span><code>sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/\$config\[&#39;db_prefix&#39;\].*</span>$<span class="s2">/d&quot;</span><span class="w"> </span>data/web/rc/config/config.inc.php
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/\$config\[&#39;log_dir&#39;\].*</span>$<span class="s2">/d&quot;</span><span class="w"> </span>data/web/rc/config/config.inc.php
sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/\$config\[&#39;temp_dir&#39;\].*</span>$<span class="s2">/d&quot;</span><span class="w"> </span>data/web/rc/config/config.inc.php
</code></pre></div>
<p>Wir mssen die nginx-Konfiguration anpassen, so dass nicht-ffentliche Verzeichnisse von Roundcube nicht exponiert
werden, insbesondere die Verzeichnisse, welche Log-Dateien und temporre Dateien enthalten:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;data/conf/nginx/site.roundcube.custom</span>
<span class="s">location /rc/ {</span>
<span class="s">  alias /web/rc/public_html/;</span>
<span class="s">}</span>
<span class="s">EOCONFIG</span>
</code></pre></div>
<p>Wir knnen auch die <code>cipher_method</code>-Einstellung auf eine sicherere Einstellung ndern, aber beachten Sie, dass mit der
alten Methode verschlsselte Daten danach nicht mehr entschlsselt werden knnen. Dies betrifft insbesondere
CardDAV-Passwrter, sofern Sie RCMCardDAV verwenden und Ihre Nutzer benutzerdefinierte Adressbcher hinzugefgt haben
(die Admin-Voreinstellungen fr die SOGo-Adressbcher werden automatisch beim nchsten Login fr den jeweiligen Nutzer
korrigiert). Wenn Sie die <code>cipher_method</code> ndern wollen, fhren Sie folgendes Kommando aus:</p>
<div class="highlight"><pre><span></span><code>cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;&gt;data/web/rc/config/config.inc.php</span>
<span class="s">\$config[&#39;cipher_method&#39;] = &#39;chacha20-poly1305&#39;;</span>
<span class="s">EOCONFIG</span>
</code></pre></div>
<h3 id="umstellung-des-rcmcarddav-plugins-auf-die-installation-mittels-composer">Umstellung des RCMCardDAV-Plugins auf die Installation mittels composer<a class="headerlink" href="#umstellung-des-rcmcarddav-plugins-auf-die-installation-mittels-composer" title="Permanent link">&para;</a></h3>
<p>Dieser Schritt ist optional, aber er gleicht Ihre Installation an die aktuelle Fassung der Anweisungen an und ermglicht
die Aktualisierung von RCMCardDAV mittels composer. Dies wird einfach dadurch erreicht, dass das carddav-Plugin aus dem
Installationsverzeichnis gelscht und entsprechend der <a href="#carddav-adressbucher-in-roundcube-einbinden">Anweisungen oben</a>
installiert wird, einschlielich der Erstellung einer neuen RCMCardDAV v5-Konfiguration. Falls Sie das RCMCardDAV
angepasst haben, sollten Sie dieses sichern, bevor Sie das Plugin lschen, und Ihre Anpassungen spter in die neue
Konfigurationsdatei bernehmen.</p>
<p>Um das carddav-Plugin zu lschen, fhren Sie folgendes Kommando aus, danach befolgen Sie zur Neuinstallation die
<a href="#carddav-adressbucher-in-roundcube-einbinden">Anweisungen oben</a>:</p>
<div class="highlight"><pre><span></span><code>rm<span class="w"> </span>-r<span class="w"> </span>data/web/rc/plugins/carddav
</code></pre></div>
<h3 id="umschalten-von-roundcube-auf-die-neue-datenbank">Umschalten von Roundcube auf die neue Datenbank<a class="headerlink" href="#umschalten-von-roundcube-auf-die-neue-datenbank" title="Permanent link">&para;</a></h3>
<p>Zunchst passen wir die Roundcube-Konfiguration an, so dass die neue Datenbank verwendet wird.
<div class="highlight"><pre><span></span><code>sed<span class="w"> </span>-i<span class="w"> </span><span class="s2">&quot;/\$config\[&#39;db_dsnw&#39;\].*</span>$<span class="s2">/d&quot;</span><span class="w"> </span>data/web/rc/config/config.inc.php
cat<span class="w"> </span><span class="s">&lt;&lt;EOCONFIG &gt;&gt;data/web/rc/config/config.inc.php</span>
<span class="s">\$config[&#39;db_dsnw&#39;] = &#39;mysql://roundcube:${DBROUNDCUBE}@mysql/roundcubemail&#39;;</span>
<span class="s">EOCONFIG</span>
</code></pre></div></p>
<h3 id="roundcube-web-zugriff-reaktivieren">Roundcube Web-Zugriff reaktivieren<a class="headerlink" href="#roundcube-web-zugriff-reaktivieren" title="Permanent link">&para;</a></h3>
<p>Fhren Sie chown und chmod auf den sensitiven Roundcube-Verzeichnissen, welche in <a href="#vorbereitung">Vorbereitung</a>
aufgefhrt sind aus, um sicherzustellen, dass der nginx-Webserver nicht auf Dateien zugreifen darf, die er nicht
ausliefern soll.</p>
<p>Dann reaktivieren Sie den Web-Zugriff fr Roundcube, indem Sie die temporre Roundcube-Konfigurations-Erweiterung fr
nginx durch die <a href="#webserver-konfiguration">oben</a> beschriebene ersetzen, und laden anschlieend die nginx-Konfiguration
neu:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span>compose<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>nginx-mailcow<span class="w"> </span>nginx<span class="w"> </span>-s<span class="w"> </span>reload
</code></pre></div>
<h3 id="andere-anpassungen">Andere Anpassungen<a class="headerlink" href="#andere-anpassungen" title="Permanent link">&para;</a></h3>
<p>Sie mssen auch die Konfiguration des Roundcube password-Plugins entsprechend dieser Anweisungen anpassen, sofern Sie
diese Funktionalitt aktiviert haben, da die alten Anweisungen das Passwort direkt in der mailcow-Datenbank nderten,
wohingegen diese Fassung der Anweisungen die mailcow-API zur Passwort-nderung verwendet.</p>
<p>Bezglich weiterer Anpassungen und Neuerungen (z. B. roundcube-dovecot_client_ip Plugin) knnen Sie die aktuellen
Anweisungen durchgehen und Ihre Konfiguration entsprechend anpassen bzw. die genannten Installationsschritte fr neue
Funktionalitten ausfhren.</p>
<p>Insbesondere beachten Sie folgende Abschnitte:</p>
<ul>
<li><a href="#ofelia-job-fur-roundcube-aufraumtatigkeiten">Ofelia-Job fr Roundcube-Aufrumttigkeiten</a></li>
<li><a href="#ermoglichen-der-klartext-authentifizierung-fur-den-php-fpm-container-ohne-die-verwendung-von-tls">Ermglichen der Klartext-Authentifizierung fr den php-fpm-Container ohne die Verwendung von TLS</a></li>
<li><a href="#ubermittlung-der-client-netzwerkadresse-an-dovecot">bermittlung der Client-Netzwerkadresse an Dovecot</a></li>
</ul>
<h3 id="entfernen-der-roundcube-tabellen-aus-der-mailcow-datenbank">Entfernen der Roundcube-Tabellen aus der mailcow-Datenbank<a class="headerlink" href="#entfernen-der-roundcube-tabellen-aus-der-mailcow-datenbank" title="Permanent link">&para;</a></h3>
<p>Nachdem Sie sichergestellt haben, dass die Migration erfolgreich durchgefhrt wurde und Roundcube mit der getrennten
Datenbank funktioniert, knnen Sie die Roundcube-Tabellen aus der mailcow-Datenbank mit dem folgenden Kommando
entfernen:</p>
<div class="highlight"><pre><span></span><code>docker<span class="w"> </span><span class="nb">exec</span><span class="w"> </span>-it<span class="w"> </span><span class="k">$(</span>docker<span class="w"> </span>ps<span class="w"> </span>-f<span class="w"> </span><span class="nv">name</span><span class="o">=</span>mysql-mailcow<span class="w"> </span>-q<span class="k">)</span><span class="w"> </span>mysql<span class="w"> </span>-uroot<span class="w"> </span>-p<span class="si">${</span><span class="nv">DBROOT</span><span class="si">}</span><span class="w"> </span>-sN<span class="w"> </span>mailcow<span class="w"> </span>-e<span class="w"> </span><span class="s2">&quot;SET SESSION foreign_key_checks = 0; DROP TABLE IF EXISTS </span><span class="k">$(</span><span class="nb">echo</span><span class="w"> </span><span class="nv">$RCTABLES</span><span class="w"> </span><span class="p">|</span><span class="w"> </span>sed<span class="w"> </span>-e<span class="w"> </span><span class="s1">&#39;s/ \+/,/g&#39;</span><span class="k">)</span><span class="s2">;&quot;</span>
</code></pre></div>














                
              </article>
            </div>
          
          
  <script>var tabs=__md_get("__tabs");if(Array.isArray(tabs))e:for(var set of document.querySelectorAll(".tabbed-set")){var labels=set.querySelector(".tabbed-labels");for(var tab of tabs)for(var label of labels.getElementsByTagName("label"))if(label.innerText.trim()===tab){var input=document.getElementById(label.htmlFor);input.checked=!0;continue e}}</script>

<script>var target=document.getElementById(location.hash.slice(1));target&&target.name&&(target.checked=target.name.startsWith("__tabbed_"))</script>
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
  
  <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8z"/></svg>
  Back to top
</button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
    <div class="md-copyright__highlight">
      Copyright &copy; <script>document.write(new Date().getFullYear())</script> mailcow Team & Community
    </div>
  
  
    Made with
    <a href="https://zensical.org/" target="_blank" rel="noopener">
      Zensical
    </a>
  
</div>
      
        
<div class="md-social">
  
    
    
    
    
      
      
    
    <a href="https://mailcow.email" target="_blank" rel="noopener" title="mailcow.email" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M351.9 280H161c2.9 64.5 17.2 123.9 37.5 167.4 11.4 24.5 23.7 41.8 35.1 52.4 11.2 10.5 18.9 12.2 22.9 12.2s11.7-1.7 22.9-12.2c11.4-10.6 23.7-28 35.1-52.4 20.3-43.5 34.6-102.9 37.5-167.4zm-191-48h190.9c-2.8-64.5-17.1-123.9-37.4-167.4-11.4-24.4-23.7-41.8-35.1-52.4C268.1 1.7 260.4 0 256.4 0s-11.7 1.7-22.9 12.2c-11.4 10.6-23.7 28-35.1 52.4-20.3 43.5-34.6 102.9-37.5 167.4m-48 0c3.5-85.6 25.6-165.1 57.9-217.3C78.7 47.3 10.9 131.2 1.5 232zM1.5 280c9.4 100.8 77.2 184.7 169.3 217.3-32.3-52.2-54.4-131.7-57.9-217.3zm398.4 0c-3.5 85.6-25.6 165.1-57.9 217.3 92.1-32.7 159.9-116.5 169.3-217.3zm111.4-48C501.9 131.2 434.1 47.3 342 14.7c32.3 52.2 54.4 131.7 57.9 217.3z"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://github.com/mailcow" target="_blank" rel="noopener" title="github.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M202.1 328.7c0 20.9-10.9 55.1-36.7 55.1s-36.7-34.2-36.7-55.1 10.9-55.1 36.7-55.1 36.7 34.2 36.7 55.1M496 278.2c0 31.9-3.2 65.7-17.5 95-37.9 76.6-142.1 74.8-216.7 74.8-75.8 0-186.2 2.7-225.6-74.8-14.6-29-20.2-63.1-20.2-95 0-41.9 13.9-81.5 41.5-113.6-5.2-15.8-7.7-32.4-7.7-48.8 0-21.5 4.9-32.3 14.6-51.8 45.3 0 74.3 9 108.8 36 29-6.9 58.8-10 88.7-10 27 0 54.2 2.9 80.4 9.2 34-26.7 63-35.2 107.8-35.2 9.8 19.5 14.6 30.3 14.6 51.8 0 16.4-2.6 32.7-7.7 48.2 27.5 32.4 39 72.3 39 114.2m-64.3 50.5c0-43.9-26.7-82.6-73.5-82.6-18.9 0-37 3.4-56 6-14.9 2.3-29.8 3.2-45.1 3.2-15.2 0-30.1-.9-45.1-3.2-18.7-2.6-37-6-56-6-46.8 0-73.5 38.7-73.5 82.6 0 87.8 80.4 101.3 150.4 101.3h48.2c70.3 0 150.6-13.4 150.6-101.3m-82.6-55.1c-25.8 0-36.7 34.2-36.7 55.1s10.9 55.1 36.7 55.1 36.7-34.2 36.7-55.1-10.9-55.1-36.7-55.1"/></svg>
    </a>
  
    
    
    
    
      
      
    
    <a href="https://x.com/mailcow_email" target="_blank" rel="noopener" title="x.com" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M357.2 48h70.6L273.6 224.2 455 464H313L201.7 318.6 74.5 464H3.8l164.9-188.5L-5.2 48h145.6l100.5 132.9zm-24.8 373.8h39.1L119.1 88h-42z"/></svg>
    </a>
  
    
    
      
    
    
    
      
      
    
    <a href="https://mailcow.social/@doncow" target="_blank" rel="noopener me" title="mailcow.social" class="md-social__link">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 7.1.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2025 Fonticons, Inc.--><path fill="currentColor" d="M433 179.1c0-97.2-63.7-125.7-63.7-125.7-62.5-28.7-228.6-28.4-290.5 0 0 0-63.7 28.5-63.7 125.7 0 115.7-6.6 259.4 105.6 289.1 40.5 10.7 75.3 13 103.3 11.4 50.8-2.8 79.3-18.1 79.3-18.1l-1.7-36.9s-36.3 11.4-77.1 10.1c-40.4-1.4-83-4.4-89.6-54-.6-4.6-.9-9.3-.9-13.9 85.6 20.9 158.7 9.1 178.7 6.7 56.1-6.7 105-41.3 111.2-72.9 9.8-49.8 9-121.5 9-121.5zm-75.1 125.2h-46.6V190.1c0-49.7-64-51.6-64 6.9v62.5H201V197c0-58.5-64-56.6-64-6.9v114.2H90.3c0-122.1-5.2-147.9 18.4-175 25.9-28.9 79.8-30.8 103.8 6.1l11.6 19.5 11.6-19.5c24.1-37.1 78.1-34.8 103.8-6.1 23.7 27.3 18.4 53 18.4 175"/></svg>
    </a>
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    
    
      
      
      
      <script id="__config" type="application/json">{"annotate":null,"base":"../../..","features":["announce.dismiss","navigation.top","navigation.tracking","content.tabs.link","content.tooltips","content.code.copy","search.highlight"],"search":"../../../assets/javascripts/workers/search.5df7522c.min.js","tags":null,"translations":{"clipboard.copied":"Copied to clipboard","clipboard.copy":"Copy to clipboard","search.result.more.one":"1 more on this page","search.result.more.other":"# more on this page","search.result.none":"No matching documents","search.result.one":"1 matching document","search.result.other":"# matching documents","search.result.placeholder":"Type to start searching","search.result.term.missing":"Missing","select.version":"Select version"},"version":null}</script>
    
    
      <script src="../../../assets/javascripts/bundle.21aa498e.min.js"></script>
      
        <script src="../../../assets/javascripts/client.js"></script>
      
    
  </body>
</html>